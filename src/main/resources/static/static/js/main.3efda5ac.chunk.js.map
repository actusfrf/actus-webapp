{"version":3,"sources":["serviceWorker.js","components/Header/index.js","components/Footer/index.js","components/Layout/index.js","components/Demo/index.js","components/ToolTip/index.js","components/Form/index.js","components/SVGWithMargin/getMarginObject.js","components/SVGWithMargin/getContentContainerStyle.js","components/SVGWithMargin/index.js","components/SVGWithMargin/getSVGDimensions.js","components/Graph/index.js","components/Results/index.js","components/Contract/index.js","components/Landing/index.js","components/NotFound/index.js","App.js","index.js","components/ToolTip/help.jpg"],"names":["Boolean","window","location","hostname","match","Header","react_default","a","createElement","href","className","src","alt","PureComponent","Footer","target","Layout","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","displayName","name","inherits","createClass","key","value","Grid","Row","Col","sm","components_Header_Header","props","children","components_Footer_Footer","Component","Demo","state","fields","label","identifier","terms","demoId","riskFactorData","passDemoData","setState","_this2","_this$props","description","index","onClick","e","ToolTip","helperIcon","Form","_PureComponent","groups","error","startDate","Date","validated","optionalFields","mandatoryFields","originalRequiredFields","originalNonRequiredFields","requiredFields","nonRequiredFields","demos","showDemos","showForm","showOptionals","optionHidden","totalFields","groupDescription","contractType","results","isFetching","redirect","host","backFromResults","formTerms","underlyingType","hasUnderlying","showUnderlying","showLeg1","showLeg2","underlyingTypes","underlyingGroups","underlyingOptionalFields","underlyingMandatoryFields","underlyingRequiredFields","underlyingNonRequiredFields","underlyingOriginalRequiredFields","underlyingOriginalNonRequiredFields","leg1Type","leg1Groups","leg1OptionalFields","leg1MandatoryFields","leg1RequiredFields","leg1NonRequiredFields","leg1OriginalRequiredFields","leg1OriginalNonRequiredFields","leg2Type","leg2Groups","leg2OptionalFields","leg2MandatoryFields","leg2RequiredFields","leg2NonRequiredFields","leg2OriginalRequiredFields","leg2OriginalNonRequiredFields","handleChangeUnderlyingType","type","axios","get","then","res","data","collectTerms","toConsumableArray","objectSpread","mandatoryFieldIdentifiers","optionalFieldIdentifiers","handleChangeLeg1Type","handleChangeLeg2Type","ContractType","StatusDate","ContractRole","ContractID","LegalEntityIDCounterparty","NominalInterestRate","DayCountConvention","CyclePointOfInterestPayment","Currency","ContractDealDate","InitialExchangeDate","MaturityDate","NotionalPrincipal","RateSpread","CyclePointOfRateReset","RateMultiplier","MarketValueObserved","PremiumDiscountAtIED","console","log","fetchTerms","params","id","requiredFieldCopy","nonRequiredFieldsCopy","n","underlyingRequiredFieldsCopy","underlyingNonRequiredFieldsCopy","leg1RequiredFieldsCopy","leg1NonRequiredFieldsCopy","leg2RequiredFieldsCopy","leg2NonRequiredFieldsCopy","obj","prop","isArray","preventDefault","underlyingFormTerms","leg1FormTerms","leg2FormTerms","assign","termsToSend","cleanUpTerms","contractStructure","underlyingReference","leg1Reference","leg2Reference","object","referenceType","referenceRole","push","dataToSend","contract","riskFactors","post","catch","message","JSON","stringify","file","Blob","navigator","msSaveOrOpenBlob","document","url","URL","createObjectURL","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","errorCount","f","defineProperty","validateFields","visible","incoming","_this3","fetchDemos","leg1Terms","leg2Terms","underlyingTerms","dictionary","keys","taxonomy","filter","acronym","indexOf","applicability","splice","map","o","groupToValues","reduce","item","group","create","shortName","split","join","Items","_this4","nonRequired","required","termArray","entries","requiredArray","toggleDemos","toggleForm","toggleUnderlying","t","r","g","i","passLeg1DemoData","passLeg2DemoData","passUnderlyingDemoData","_this5","dictTerms","_this6","_this7","_this$state","_this$state2","demosClassName","formClassName","Redirect","to","pathname","contractId","contractID","fluid","sort","b","d","components_Demo_Demo","bind","m","groupId","htmlFor","title","placeholder","onChange","updateField","components_ToolTip_ToolTip","foldOptions","updateNonRequiredField","Fragment","toggleLeg1","foldLeg1Options","toggleLeg2","foldLeg2Options","foldUnderlyingOptions","handleReset","handleSubmit","handleExport","getMarginObjectForNumber","number","top","right","bottom","left","getMarginObject","margin","vertical","horizontal","getContentContainerStyle","_ref","marginObject","transform","SVGWithMargin","contentContainerBackgroundRectClassName","contentContainerGroupClassName","height","width","renderContentContainerBackground","rest","objectWithoutProperties","getSVGDimensions","style","x","y","Graph","_React$Component","aspect","header","parentWidth","GraphRef","React","ReactDOM","findDOMNode","offsetWidth","addEventListener","handleResize","removeEventListener","forEach","time","xScale","d3","domain","range","yMax","Math","abs","nominalValue","yFormat","yScale","nice","xAxis","tickFormat","yAxis","ticks","scale","gridLine","curve","gridLines","raw","react","fill","strokeWidth","stroke","strokeDasharray","nominalLine","col","eventLine","payoff","lastPayoff","eventLines","markerEnd","lastTime","lastAccrued","accruedLines","nominalAccrued","eventLabels","fontSize","ref","viewBox","markerWidth","markerHeight","refX","refY","orient","markerUnits","node","d3Select","Results","currentTab","response","allAnswers","version","Graph_Graph","handleBackToForm","result","toString","month","getMonth","day","getDate","dateString","getFullYear","currency","nominalRate","Contract","md","Link","Landing","contractDetails","contractIdentifiers","contracts","components_Contract_Contract","NotFound","App","components_Layout_Layout","Switch","Route","exact","path","render","components_Landing_Landing","components_Form_Form","components_Results_Results","component","rootElement","getElementById","BrowserRouter","src_App","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.3efda5ac.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { PureComponent } from 'react';\nimport './Header.css';\n\nexport default class Header extends PureComponent { \n    render(){\n        return (\n\t<header>\n        \t<a href=\"/\"><img className=\"header-img\" src =\"https://raw.githubusercontent.com/actusfrf/actus-resources/master/logos/actus_logo.jpg\" alt=\"ACTUS logo\"/></a>\n        \t<h1>The ACTUS Demo App</h1>\n    \t</header>\n        )\n    }\n}\n","import React, { PureComponent } from 'react';\nimport './Footer.css';\n\nexport default class Footer extends PureComponent { \n    render(){\n        return (\n        \t<div className=\"footer-wrapper\">\n\t\t\t<p>&copy; 2019 - present <a href=\"https://actusfrf.org\" target=\"_blank\"> ACTUS Financial Research Foundation </a> </p>\n\t\t</div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport { Col, Grid, Row } from 'react-bootstrap';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport './Layout.css';\n\nexport class Layout extends Component {\n  displayName = Layout.name\n\n  render() {\n    return (\n      <Grid>\n        <Row>\n          <Col sm={12} >\n            <div className=\"main-container\">\n              <Header />\n              {this.props.children}\n              <Footer />\n            </div>\n          </Col>\n          </Row>\n      </Grid>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { Col }  from 'react-bootstrap';\nimport './Demo.css';\n\nexport default class Demo extends PureComponent { \n    state = {\n        fields:[],\n        label:'',\n        identifier:'',\n        terms:{},\n        demoId: '',\n        riskFactorData: [],\n        passDemoData: null\n    }\n\n    passDemoData(){        \n        this.state.passDemoData(this.state.terms, this.state.riskFactorData, this.state.demoId)\n    }\n\n    componentDidMount() {\n        this.setState({\n            terms: this.props.terms,\n            identifier: this.props.identifier,\n            demoId: this.props.demoId,\n            label: this.props.label,\n            riskFactorData: this.props.riskFactorData,\n            passDemoData: this.props.passDemoData\n        })\n    }\n\n    render(){\n        let {description, index} = this.props;\n        return (\n            <Col sm={4} className=\"demo-col\">\n                <div className=\"demo-item\">\n                    <div className=\"demo-item-content\">\n                        <h4 onClick={e => this.passDemoData()} className=\"demo-case-title\">Case {index}</h4>\n                        <article className=\"demo-text\">{(description !== null)?description:\"No Description\"}</article>\n                    </div>\n                </div>\n            </Col>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport './ToolTip.css';\nimport helperIcon from './help.jpg';\n\nexport default class ToolTip extends PureComponent { \n    \n    render(){\n        let {description} = this.props;\n        return (\n            <i className=\"tool-tip\">\n                <img src={helperIcon} alt=\"Information\"/>\n                <div className=\"tool-tip-copy\">{description}</div>\n            </i>\n        )\n    }\n}","import React, { PureComponent } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport { Col, Grid, Row}  from 'react-bootstrap';\nimport axios from 'axios';\nimport Demo from '../Demo';\n\nimport ToolTip from '../ToolTip';\nimport '../Term/Term.css';\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport './Form.css';\n\nexport class Form extends PureComponent {\n    state = {\n        groups: [],\n        error: false,\n        startDate: new Date(),\n        validated: false,\n        optionalFields: [],\n        mandatoryFields: [],\n        originalRequiredFields:{},\n        originalNonRequiredFields:{},\n        requiredFields:{},\n        nonRequiredFields:{},\n        riskFactorData: [],\n        demos:[],\n        showDemos: false,\n        showForm: true,\n        showOptionals: false,\n        optionHidden:[],\n        totalFields: 0,\n        groupDescription: \"\",\n        contractType: \"\",\n        identifier: \"\",\n        results:{},\n        isFetching: false,\n        redirect: false,\n        host: \"http://localhost:8083\",\n        backFromResults: false,\n        formTerms: {},\n        // handling underlyings (capfl, ...)\n        underlyingType: \"\",\n        hasUnderlying: false,\n        showUnderlying: true,\n        showLeg1: true,\n        showLeg2: true,\n        underlyingTypes: [\"PAM\",\"NAM\",\"ANN\",\"LAM\",\"LAX\"],\n        underlyingGroups: [],\n        underlyingOptionalFields: [],\n        underlyingMandatoryFields: [],\n        underlyingRequiredFields: {},\n        underlyingNonRequiredFields: {},\n        underlyingOriginalRequiredFields: {},\n        underlyingOriginalNonRequiredFields: {},\n        // handling leg1 (swap)\n        leg1Type: \"\",\n        leg1Groups: [],\n        leg1OptionalFields: [],\n        leg1MandatoryFields: [],\n        leg1RequiredFields: {},\n        leg1NonRequiredFields: {},\n        leg1OriginalRequiredFields: {},\n        leg1OriginalNonRequiredFields: {},\n        // handling leg2 (swap)\n        leg2Type: \"\",\n        leg2Groups: [],\n        leg2OptionalFields: [],\n        leg2MandatoryFields: [],\n        leg2RequiredFields: {},\n        leg2NonRequiredFields: {},\n        leg2OriginalRequiredFields: {},\n        leg2OriginalNonRequiredFields: {}\n    }\n\n    getTestFields(){\n        var t = {\n            \"ContractType\": \"PAM\",\n            \"StatusDate\": \"2015-01-01T00:00:00\",\n            \"ContractRole\": \"RPA\",\n            \"ContractID\": 101,\n            \"LegalEntityIDCounterparty\": \"TEST_LEI_CP\",\n            \"NominalInterestRate\": 0,\n            \"DayCountConvention\": \"30E/360\",\n            \"CyclePointOfInterestPayment\": 1,\n            \"Currency\": \"USD\",\n            \"ContractDealDate\": \"2015-01-01T00:00:00\",\n            \"InitialExchangeDate\": \"2015-01-02T00:00:00\",\n            \"MaturityDate\": \"2015-04-02T00:00:00\",\n            \"NotionalPrincipal\": 1000,\n            \"RateSpread\": 0,\n            \"CyclePointOfRateReset\": 0,\n            \"RateMultiplier\": 1,\n            \"MarketValueObserved\": 10,\n            \"PremiumDiscountAtIED\": -5\n        }\n        return t;\n    }\n\n    componentDidMount() {\n        console.log('Did Mount');\n        let {match} = this.props;\n        if(this.props.location.state && this.props.location.state.backFromResults){\n            console.log(\"[Data incoming]\", this.props.location.state.backFromResults);\n            this.fetchTerms(match.params.id, this.props.location.state.formTerms);\n        }else{\n            this.fetchTerms(match.params.id);\n        }\n    }\n\n    handleReset(e) {\n        // reset main contract fields\n        let requiredFieldCopy = {...this.state.requiredFields};\n        let nonRequiredFieldsCopy = {...this.state.nonRequiredFields};\n        for(var n in requiredFieldCopy){\n            requiredFieldCopy[n] = \"\"\n        }\n        for(var n in nonRequiredFieldsCopy){\n            nonRequiredFieldsCopy[n] = \"\"\n        }\n        this.setState({\n            requiredFields: requiredFieldCopy,\n            nonRequiredFields: nonRequiredFieldsCopy,\n            riskFactorData: []\n        })\n        // reset underlying contract fields (if any)\n        if(this.state.hasUnderlying) {\n            // single underlying\n            let underlyingRequiredFieldsCopy = {...this.state.underlyingRequiredFields};\n            let underlyingNonRequiredFieldsCopy = {...this.state.underlyingNonRequiredFields};\n            for(var n in underlyingRequiredFieldsCopy){\n                underlyingRequiredFieldsCopy[n] = \"\"\n            }\n            for(var n in underlyingNonRequiredFieldsCopy){\n                underlyingNonRequiredFieldsCopy[n] = \"\"\n            }\n            // leg 1\n            let leg1RequiredFieldsCopy = {...this.state.leg1RequiredFields};\n            let leg1NonRequiredFieldsCopy = {...this.state.leg1NonRequiredFields};\n            for(var n in leg1RequiredFieldsCopy){\n                leg1RequiredFieldsCopy[n] = \"\"\n            }\n            for(var n in leg1NonRequiredFieldsCopy){\n                leg1NonRequiredFieldsCopy[n] = \"\"\n            }\n            // leg 2\n            let leg2RequiredFieldsCopy = {...this.state.leg2RequiredFields};\n            let leg2NonRequiredFieldsCopy = {...this.state.leg2NonRequiredFields};\n            for(var n in leg2RequiredFieldsCopy){\n                leg2RequiredFieldsCopy[n] = \"\"\n            }\n            for(var n in leg2NonRequiredFieldsCopy){\n                leg2NonRequiredFieldsCopy[n] = \"\"\n            }\n            // update state\n            this.setState({\n                underlyingRequiredFields: underlyingRequiredFieldsCopy,\n                underlyingNonRequiredFields: underlyingNonRequiredFieldsCopy,\n                leg1RequiredFields: leg1RequiredFieldsCopy,\n                leg1NonRequiredFields: leg1NonRequiredFieldsCopy,\n                leg2RequiredFields: leg2RequiredFieldsCopy,\n                leg2NonRequiredFields: leg2NonRequiredFieldsCopy\n            })\n        }\n    }\n\n    cleanUpTerms(obj){\n\n        let newObj={};\n\n        for(var prop in obj){\n            if(obj[prop] === ''){\n                delete obj[prop];\n            }\n            if(Array.isArray(obj[prop])) {\n                if(obj[prop].length === 0) {\n                    delete obj[prop];\n                } else {\n                    //obj[prop] = obj[prop].join();\n                }\n            }\n\n            //console.log(obj[prop] + \" --- \" + Array.isArray(obj[prop]))\n        }\n\n        newObj = obj;\n        return newObj;\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n\n        // fetch contract terms\n        let formTerms = Object.assign({},this.state.requiredFields, this.state.nonRequiredFields);\n        let termsToSend = this.cleanUpTerms({...formTerms});\n\n        // handle underlying contracts\n        let contractStructure = []\n        let underlyingReference = {}, leg1Reference = {}, leg2Reference = {}\n        let underlyingFormTerms, leg1FormTerms, leg2FormTerms\n        switch(this.state.contractType) {\n            case 'SWAPS': // has two underlyings\n                // create leg 1 contract-reference\n                // -----\n                leg1FormTerms = Object.assign({},this.state.leg1RequiredFields, this.state.leg1NonRequiredFields);\n                leg1FormTerms = this.cleanUpTerms({...leg1FormTerms});\n                Object.assign(leg1Reference, { object: leg1FormTerms }, { referenceType: \"CNT\" }, { referenceRole: \"FIL\" } )\n                contractStructure.push(leg1Reference)\n\n                // create leg 2 contract-reference\n                // -----\n                leg2FormTerms = Object.assign({},this.state.leg2RequiredFields, this.state.leg2NonRequiredFields);\n                leg2FormTerms = this.cleanUpTerms({...leg2FormTerms});\n                Object.assign(leg2Reference, { object: leg2FormTerms }, { referenceType: \"CNT\" }, { referenceRole: \"SEL\" } )\n                contractStructure.push(leg2Reference)\n\n                // add contractStructure to terms\n                Object.assign(termsToSend, { contractStructure: contractStructure })\n                break;\n\n            case 'CAPFL': // has only one underlying\n                // create underlying contract-reference\n                // -----\n                underlyingFormTerms = Object.assign({},this.state.underlyingRequiredFields, this.state.underlyingNonRequiredFields);\n                underlyingFormTerms = this.cleanUpTerms({...underlyingFormTerms});\n                Object.assign(underlyingReference, { object: underlyingFormTerms }, { referenceType: \"CNT\" }, { referenceRole: \"UDL\" } )\n                contractStructure.push(underlyingReference)\n\n                // add contractStructure to terms\n                Object.assign(termsToSend, { contractStructure: contractStructure })\n                break;\n\n            default: // no underlying\n\n        }\n\n        this.setState({\n            formTerms: termsToSend\n        });\n\n        let dataToSend = { \n            contract: termsToSend,\n            riskFactors: this.state.riskFactorData\n        };\n\n        axios.post(this.state.host+'/events', dataToSend)\n            .then(res => {\n                this.setState({\n                    results: res.data,\n                    isFetching: false,\n                    redirect: true,\n                })\n            })\n            .catch(error => {\n                console.log(this);\n                console.log(error.message);\n                \n                this.setState({\n                    error: error\n                })\n            });\n    }\n\n    handleExport (e) {\n        e.preventDefault();\n        let formTerms = Object.assign({},this.state.requiredFields, this.state.nonRequiredFields);\n        let data = JSON.stringify({...formTerms});\n        var file = new Blob([data], {type: 'application/json'});\n        if (window.navigator.msSaveOrOpenBlob) // IE10+\n            window.navigator.msSaveOrOpenBlob(file, 'terms.json');\n        else { // Others\n            let a = document.createElement('a');\n            let url = URL.createObjectURL(file);\n            a.href = url;\n            a.download = 'terms.json';\n            document.body.appendChild(a);\n            a.click();\n            setTimeout(function() {\n                document.body.removeChild(a);\n                window.URL.revokeObjectURL(url);\n            }, 0);\n        }\n    }\n\n    validateFields(){\n        let fields = this.state.requiredFields;\n        let errorCount = 0;\n        for(var f in fields){\n            if(fields[f] === ''){\n                errorCount++;\n            }\n        }\n\n         this.setState({\n             validated: errorCount === 0\n         });\n    }\n\n    updateNonRequiredField(e) {\n        this.setState({\n            nonRequiredFields: {\n                ...this.state.nonRequiredFields,\n                [e.target.id]: e.target.value\n            }\n        });\n    }\n\n    updateField(e) {\n        this.setState({\n            requiredFields: {\n                ...this.state.requiredFields,\n                [e.target.id]: e.target.value\n            }\n        });\n        \n        this.validateFields();\n    }\n\n    handleChangeUnderlyingType = (e) => {\n        let type = e.target.value\n        // fetch dictionary\n        axios.get(`/data/actus-dictionary.json`)\n        .then(res => {\n            if (!res || !res.data) {\n                return false;\n            }\n            // extract required terms from dictionary\n            let terms = this.collectTerms(res.data,type,false);\n            // update state\n            this.setState({\n                isFetching: false,\n                underlyingType: type,\n                underlyingGroups: terms.groups,\n                underlyingOptionalFields: [...terms.optionalFields],\n                underlyingMandatoryFields: [...terms.mandatoryFields],\n                underlyingRequiredFields: {...terms.requiredFields},\n                underlyingNonRequiredFields: {...terms.nonRequiredFields},\n                underlyingOriginalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                underlyingOriginalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                error: {\n                    ...this.state.error\n                }\n            });\n        });\n    }\n\n    handleChangeLeg1Type = (e) => {\n        let type = e.target.value\n        // fetch dictionary\n        axios.get(`/data/actus-dictionary.json`)\n        .then(res => {\n            if (!res || !res.data) {\n                return false;\n            }\n            // extract required terms from dictionary\n            let terms = this.collectTerms(res.data,type,false);\n            // update state\n            this.setState({\n                isFetching: false,\n                leg1Type: type,\n                leg1Groups: terms.groups,\n                leg1OptionalFields: [...terms.optionalFields],\n                leg1MandatoryFields: [...terms.mandatoryFields],\n                leg1RequiredFields: {...terms.requiredFields},\n                leg1NonRequiredFields: {...terms.nonRequiredFields},\n                leg1OriginalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                leg1OriginalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                error: {\n                    ...this.state.error\n                }\n            });\n        });\n    }\n\n    handleChangeLeg2Type = (e) => {\n        let type = e.target.value\n        // fetch dictionary\n        axios.get(`/data/actus-dictionary.json`)\n        .then(res => {\n            if (!res || !res.data) {\n                return false;\n            }\n            // extract required terms from dictionary\n            let terms = this.collectTerms(res.data,type,false);\n            // update state\n            this.setState({\n                isFetching: false,\n                leg2Type: type,\n                leg2Groups: terms.groups,\n                leg2OptionalFields: [...terms.optionalFields],\n                leg2MandatoryFields: [...terms.mandatoryFields],\n                leg2RequiredFields: {...terms.requiredFields},\n                leg2NonRequiredFields: {...terms.nonRequiredFields},\n                leg2OriginalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                leg2OriginalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                error: {\n                    ...this.state.error\n                }\n            });\n        });\n    }\n\n    toggleDemos() {\n        this.setState({\n            showDemos: !this.state.showDemos\n        })\n    }\n\n    toggleForm() {\n        this.setState({\n            showForm: !this.state.showForm\n        })\n    }\n\n    toggleUnderlying() {\n        this.setState({\n            showUnderlying: !this.state.showUnderlying\n        })\n    }\n\n    toggleLeg1() {\n        this.setState({\n            showLeg1: !this.state.showLeg1\n        })\n    }\n\n    toggleLeg2() {\n        this.setState({\n            showLeg2: !this.state.showLeg2\n        })\n    }\n\n    foldOptions(index) {\n        var groups = [...this.state.groups];\n        groups[index].visible = !groups[index].visible;\n        this.setState({\n            groups: groups\n        });\n    }\n\n    foldUnderlyingOptions(index) {\n        var groups = [...this.state.underlyingGroups];\n        groups[index].visible = !groups[index].visible;\n        this.setState({\n            underlyingGroups: groups\n        });\n    }\n\n    foldLeg1Options(index) {\n        var groups = [...this.state.leg1Groups];\n        groups[index].visible = !groups[index].visible;\n        this.setState({\n            leg1Groups: groups\n        });\n    }\n\n    foldLeg2Options(index) {\n        var groups = [...this.state.leg2Groups];\n        groups[index].visible = !groups[index].visible;\n        this.setState({\n            leg2Groups: groups\n        });\n    }\n\n    fetchTerms(id, incoming){\n        console.log(\"fetch data\", id,\" is incoming \", incoming );\n        // indicate state that fetching data\n        this.setState({\n            isFetching: true\n            //formTerms: incoming ? {...incoming}: null,\n        });       \n        // fetch dictionary\n        axios.get(`/data/actus-dictionary.json`)\n            .then(res => {\n                if (!res || !res.data) {\n                    return false;\n                }\n                // extract required terms from dictionary\n                let terms = this.collectTerms(res.data,id,incoming);\n                // fetch demos for this specific contract\n                this.fetchDemos(id);\n                // update state\n                this.setState({\n                    identifier: terms.identifier,\n                    groupDescription: terms.description,\n                    contractType: terms.type,\n                    groups: terms.groups,\n                    isFetching: false,\n                    optionalFields: [...terms.optionalFields],\n                    mandatoryFields: [...terms.mandatoryFields],\n                    requiredFields: {...terms.requiredFields},\n                    nonRequiredFields: {...terms.nonRequiredFields},\n                    originalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                    originalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                    error: {\n                        ...this.state.error\n                    }\n                });\n                // handle underlying contracts\n                switch(terms.type) {\n                    case 'SWAPS':\n                        // leg 1\n                        // -----\n                        // update state\n                        let leg1Type = incoming ? incoming.contractStructure[0].object.contractType : \"PAM\";\n                        let leg1Terms = incoming ? incoming.contractStructure[0].object : null;\n                        terms = this.collectTerms(res.data,leg1Type,leg1Terms);\n                        this.setState({ \n                            hasUnderlying: true,\n                            underlyingTypes: [\"PAM\",\"NAM\",\"ANN\",\"LAM\",\"LAX\"],\n                            leg1Type: leg1Type,\n                            leg1Groups: terms.groups,\n                            leg1OptionalFields: [...terms.optionalFields],\n                            leg1MandatoryFields: [...terms.mandatoryFields],\n                            leg1RequiredFields: {...terms.requiredFields},\n                            leg1NonRequiredFields: {...terms.nonRequiredFields},\n                            leg1OriginalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                            leg1OriginalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                            error: {\n                                ...this.state.error\n                            }\n                        });\n                        // leg 2\n                        // -----\n                        // update state\n                        let leg2Type = incoming ? incoming.contractStructure[1].object.contractType : \"PAM\";\n                        let leg2Terms = incoming ? incoming.contractStructure[1].object : null;\n                        terms = this.collectTerms(res.data,leg2Type,leg2Terms);\n                        this.setState({\n                            leg2Type: leg2Type,\n                            leg2Groups: terms.groups,\n                            leg2OptionalFields: [...terms.optionalFields],\n                            leg2MandatoryFields: [...terms.mandatoryFields],\n                            leg2RequiredFields: {...terms.requiredFields},\n                            leg2NonRequiredFields: {...terms.nonRequiredFields},\n                            leg2OriginalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                            leg2OriginalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                            error: {\n                                ...this.state.error\n                            }\n                        });\n                        break;\n                    case 'CAPFL': // has only one underlying\n                        // extract underlying terms\n                        let underlyingType = incoming ? incoming.contractStructure[0].object.contractType : \"PAM\";\n                        let underlyingTerms = incoming ? incoming.contractStructure[0].object : null;\n                        terms = this.collectTerms(res.data,underlyingType,underlyingTerms);\n                        // update state\n                        this.setState({ \n                            hasUnderlying: true,\n                            underlyingType: underlyingType,\n                            underlyingTypes: [\"PAM\",\"NAM\",\"ANN\",\"LAM\",\"LAX\"],\n                            underlyingGroups: terms.groups,\n                            underlyingOptionalFields: [...terms.optionalFields],\n                            underlyingMandatoryFields: [...terms.mandatoryFields],\n                            underlyingRequiredFields: {...terms.requiredFields},\n                            underlyingNonRequiredFields: {...terms.nonRequiredFields},\n                            underlyingOriginalRequiredFields: {...terms.mandatoryFieldIdentifiers},\n                            underlyingOriginalNonRequiredFields: {...terms.optionalFieldIdentifiers},\n                            error: {\n                                ...this.state.error\n                            }\n                        });\n                        break;\n\n                    default: // no underlying\n                        this.setState({ \n                            hasUnderlying: false\n                        })\n                        break;\n                }\n            })\n            .catch(error => {\n                console.log('>>>>>>>>>>> error:', error);\n            });\n    } \n\n    collectTerms(dictionary, id, incoming) {\n        // get contract identifier from id (accronym)\n        let identifier = Object.keys(dictionary.taxonomy).filter(key => (dictionary.taxonomy[key].acronym.indexOf(id) > -1))[0];\n        \n        // get taxonomy, applicability and terms lists for respective contract\n        let applicability = dictionary.applicability[identifier]\n        let terms = dictionary.terms\n        \n        // get optional and mandatory field identifiers\n        let optionalFieldIdentifiers = Object.keys(applicability).filter(key => (applicability[key] !== 'NN'));\n        let mandatoryFieldIdentifiers = Object.keys(applicability).filter(key => (applicability[key] === 'NN'));\n        optionalFieldIdentifiers.splice(optionalFieldIdentifiers.indexOf('contract'),1) // 'contract' is actually not an official term\n\n        // get optional and mandatory field details\n        let optionalFields = optionalFieldIdentifiers.map((identifier) => terms[identifier])\n        let mandatoryFields = mandatoryFieldIdentifiers.map((identifier) => terms[identifier])\n\n        // define optional and mandatory field values (empty by default)\n        let requiredFields = Object.assign({}, ...mandatoryFields.map(o=>({[o.name]: ''})));\n        let nonRequiredFields = Object.assign({}, ...optionalFields.map(o=>({[o.name]: ''}))); \n        \n        // if returning from the results page, populate previous field values\n        if(incoming){\n            mandatoryFieldIdentifiers.map(e=>{\n                requiredFields[e] = incoming[e];\n            });\n\n            optionalFieldIdentifiers.map(e=>{\n                nonRequiredFields[e] = incoming[e];\n            });\n        }\n\n        // group terms according to actus groups\n        let groupToValues = optionalFields.reduce(function (obj, item) { \n                obj[item.group] = obj[item.group] || [];\n                obj[item.group].push(item);\n                return obj;\n            }, Object.create(null));\n        let groups = Object\n            .keys(groupToValues)\n            .map(function (key) {\n                let shortName = key.split(\" \").join(\"\");\n                return {\n                    group: key, \n                    Items: groupToValues[key], \n                    shortName: shortName,\n                    visible: false\n                }\n            });\n\n        // return data\n        return {\n            identifier: identifier,\n            description: dictionary.taxonomy[identifier].description,\n            type: dictionary.taxonomy[identifier].acronym,\n            groups: groups, \n            optionalFields: optionalFields, \n            mandatoryFields: mandatoryFields, \n            requiredFields: requiredFields,\n            nonRequiredFields: nonRequiredFields, \n            mandatoryFieldIdentifiers: mandatoryFieldIdentifiers, \n            optionalFieldIdentifiers: optionalFieldIdentifiers\n        }\n    }\n\n    fetchDemos(id){\n        axios\n            .get(`${this.state.host}/demos/${id}`)\n            .then(res => {\n                this.setState({\n                    demos: res.data\n                });\n            })\n            .catch(error => {\n                console.log('>>>>>>>>>>> error:', error);\n            })\n    }\n\n    passDemoData(terms, riskFactorData) {\n        let groups = [...this.state.groups];\n        let nonRequired = {...this.state.originalNonRequiredFields};\n        let required = {...this.state.originalRequiredFields};\n\n        let termArray = Object.entries(terms);\n        let requiredArray = Object.entries(required);\n\n        if(this.state.showDemos)\n            this.toggleDemos();\n\n        if(!this.state.showForm)\n            this.toggleForm();\n\n        if(!this.state.showUnderlying)\n            this.toggleUnderlying();\n\n        // assign the required terms from the demo to the \"required\" state\n        termArray.map(t=>{\n            requiredArray.map(r=>{\n                if(t[0] === r[1]){\n                    required[t[0]] = t[1];\n                }\n            });\n        });\n\n        // for each terms group assign the optional terms to the \"nonRequired\" state\n        groups.map(g =>{\n            g.Items.map(i => {\n               termArray.map(t=>{\n                   if(t[0] === i.identifier){\n                        nonRequired[t[0]] = t[1];\n                   }\n               });\n            });\n        });\n\n        // update the state\n        this.setState({\n            requiredFields: {\n                ...this.state.originalRequiredFields,\n                ...required},\n            nonRequiredFields: {\n                ...this.state.originalNonRequiredFields,\n                ...nonRequired},\n            riskFactorData: riskFactorData\n        });\n\n        // handle underlying\n        switch(terms.contractType) {\n            case 'SWAPS': // two underlyings\n                // leg 1\n                this.passLeg1DemoData(terms.contractStructure[0].object)\n                // leg 2\n                this.passLeg2DemoData(terms.contractStructure[1].object)\n                break;\n\n            case 'CAPFL': // single underlying\n                this.passUnderlyingDemoData(terms.contractStructure[0].object)\n                break;\n\n            default: // no underlying\n\n        }\n    }\n\n    passUnderlyingDemoData(terms) {\n        let groups = [...this.state.underlyingGroups];\n        let nonRequired = {...this.state.underlyingOriginalNonRequiredFields};\n        let required = {...this.state.underlyingOriginalRequiredFields};\n\n        let termArray = Object.entries(terms);\n        let requiredArray = Object.entries(required);\n\n        // assign the required terms from the demo to the \"required\" state\n        termArray.map(t=>{\n            requiredArray.map(r=>{\n                if(t[0] === r[1]){\n                    required[t[0]] = t[1];\n                }\n            });\n        });\n\n        // for each terms group assign the optional terms to the \"nonRequired\" state\n        groups.map(g =>{\n            g.Items.map(i => {\n               termArray.map(t=>{\n                   if(t[0] === i.identifier){\n                        nonRequired[t[0]] = t[1];\n                   }\n               });\n            });\n        });\n\n        // update the state\n        this.setState({\n            underlyingRequiredFields: {\n                ...this.state.underlyingOriginalRequiredFields,\n                ...required},\n            underlyingNonRequiredFields: {\n                ...this.state.underlyingOriginalNonRequiredFields,\n                ...nonRequired}\n        });\n    }\n\n    passLeg1DemoData(terms) {\n        \n        let type = terms.contractType;\n\n        // fetch dictionary\n        axios.get(`/data/actus-dictionary.json`)\n        .then(res => {\n            if (!res || !res.data) {\n                return false;\n            }\n            // extract required terms from dictionary\n            let dictTerms = this.collectTerms(res.data,type,false);\n            let requiredFields = dictTerms.mandatoryFieldIdentifiers;\n            let nonRequiredFields = dictTerms.optionalFieldIdentifiers;\n            let groups = dictTerms.groups;\n            \n            let termArray = Object.entries(terms);\n            let requiredArray = Object.entries(requiredFields);\n                \n            // assign the required terms from the demo to the \"required\" state\n            termArray.map(t=>{\n                requiredArray.map(r=>{\n                    if(t[0] === r[1]){\n                        requiredFields[t[0]] = t[1];\n                    }\n                });\n            });\n\n            // for each terms group assign the optional terms to the \"nonRequired\" state\n            groups.map(g =>{\n                g.Items.map(i => {\n                termArray.map(t=>{\n                    if(t[0] === i.identifier){\n                            nonRequiredFields[t[0]] = t[1];\n                    }\n                });\n                });\n            });\n\n            // update the state\n            this.setState({\n                leg1Groups: groups,\n                leg1RequiredFields: requiredFields,\n                leg1NonRequiredFields: nonRequiredFields\n            });\n\n            console.log(nonRequiredFields)\n        })\n    }\n\n    passLeg2DemoData(terms) {\n        \n        let type = terms.contractType;\n\n        // fetch dictionary\n        axios.get(`/data/actus-dictionary.json`)\n        .then(res => {\n            if (!res || !res.data) {\n                return false;\n            }\n            // extract required terms from dictionary\n            let dictTerms = this.collectTerms(res.data,type,false);\n            let requiredFields = dictTerms.mandatoryFieldIdentifiers;\n            let nonRequiredFields = dictTerms.optionalFieldIdentifiers;\n            let groups = dictTerms.groups;\n            \n            let termArray = Object.entries(terms);\n            let requiredArray = Object.entries(requiredFields);\n                \n            // assign the required terms from the demo to the \"required\" state\n            termArray.map(t=>{\n                requiredArray.map(r=>{\n                    if(t[0] === r[1]){\n                        requiredFields[t[0]] = t[1];\n                    }\n                });\n            });\n\n            // for each terms group assign the optional terms to the \"nonRequired\" state\n            groups.map(g =>{\n                g.Items.map(i => {\n                termArray.map(t=>{\n                    if(t[0] === i.identifier){\n                            nonRequiredFields[t[0]] = t[1];\n                    }\n                });\n                });\n            });\n\n            // update the state\n            this.setState({\n                leg2Groups: groups,\n                leg2RequiredFields: requiredFields,\n                leg2NonRequiredFields: nonRequiredFields\n            });\n        })\n    }\n\n    render() {\n        let {groups, groupDescription, contractType, identifier, mandatoryFields, redirect, results, demos } = this.state;\n        let {underlyingGroups, underlyingMandatoryFields, leg1Groups, leg1MandatoryFields, leg2Groups, leg2MandatoryFields} = this.state;\n        let {match} = this.props;\n        let demosClassName = (this.state.showDemos)?\"unfolded\":\"folded\";\n        let formClassName = (this.state.showForm)?\"unfolded\":\"folded\";\n\n        if( redirect ) {\n            return <Redirect to={{ pathname: '/results', state: { url:`/form/${match.params.id}`, formTerms: this.state.formTerms, contractId: this.state.requiredFields.contractID, data: results }}} />\n        } else {  \n            if(this.state.isFetching){\n                return (\n                    <div>Loading...</div>\n                )\n            } else {\n                return (\n                    <div id=\"form-container\" identifier={ identifier } >\n                        <Grid fluid>\n                            <Row>\n                                <Col sm={12} className={`contract-main-wrapper demo ${demosClassName}`} onClick={()=>this.toggleDemos()}>\n                                    <span className=\"contract-title\">Demo Case</span>\n                                </Col>\n                            </Row>\n                            {this.state.showDemos && \n                                <Row>\n                                    <Col sm={12} className=\"demo-items-wrapper\">\n                                        <Grid fluid>\n                                            <Row className=\"demo-row\">\n                                            {demos.sort((a, b) => a.contract.contractID - b.contract.contractID).map((d, i)=> {\n                                                    return (\n                                                            <Demo key={i} passDemoData={this.passDemoData.bind(this)} description={d.description} identifier={d.identifier} index={d.contract.contractID} demoId={d.id} label={d.label} terms={d.contract} riskFactorData={d.riskFactors}/>\n                                                    )\n                                                })}\n                                            </Row>\n                                        </Grid>\n                                    </Col>\n                                </Row>\n                            }\n                            <Row>\n                                <Col sm={12} className={`contract-main-wrapper ${formClassName}`} onClick={()=>this.toggleForm()}>\n                                    <span className=\"contract-title\">{contractType}:</span>\n                                    <span className=\"contract-description\">{groupDescription}</span>\n                                </Col>\n                            </Row>\n                            {this.state.showForm && \n                            <Row>\n                                <Col sm={5} className=\"required choices\">\n                                    <div className=\"term-group-header\">All fields below are mandatory to fill in:</div>\n                                    <div className=\"field-wrapper\">\n                                        <div className=\"items-group\">\n                                            <Grid fluid>\n                                                <Row>\n                                                    {mandatoryFields.map((m, groupId) => {\n                                                            // for each mandatory term add a field in the form and\n                                                            // preset with value from demo case (if any)\n                                                            return (                                                        \n                                                                <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                    <div className=\"input-container\">\n                                                                        <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                        <div className=\"input-wrapper\">\n                                                                            <input \n                                                                            id={m.identifier}\n                                                                            title={`Required Field`} \n                                                                            placeholder='...' \n                                                                            value={this.state.requiredFields[m.identifier]}\n                                                                            onChange={e=>this.updateField(e)}\n                                                                            className=\"item-fields\" \n                                                                            type=\"text\" />\n                                                                            <ToolTip description={m.description} />\n                                                                        </div>                                        \n                                                                    </div>\n                                                                </Col>                                                                    \n                                                            )\n                                                        })\n                                                    }\n                                                </Row>\n                                            </Grid>\n                                        </div>\n                                    </div>\n                                </Col>\n                                <Col sm={7} className=\"optional choices\">\n                                    <div className=\"term-group-header\">Below are your Optional choices</div>\n                                    {\n                                        groups.map((group, index) => {\n                                            // go through all term groups and create separate optional field tab\n                                            return (\n                                                <div key={`term_wrapper${index}`} className=\"term-wrapper\">\n                                                    <div id={group.shortName} className=\"items-group\">\n                                                        <div className=\"item-header\" onClick={()=>this.foldOptions(index)}>{group.group}</div>\n                                                        {group.visible && \n                                                            <Grid fluid>\n                                                                <Row>\n                                                                {\n                                                                    group.Items.map((item, index) => {\n                                                                        // for a specific term group go through all terms and create\n                                                                        // a form field\n                                                                        let group = item.group;\n\n                                                                        return(\n                                                                            <Col key={`key${item.identifier}`} sm={4} className=\"item nopadding\">\n                                                                                <div className=\"input-container\">\n                                                                                    <label className=\"item-labels\" htmlFor={item.name}>{item.name}</label>\n                                                                                    <div className=\"input-wrapper term\">\n                                                                                        <input \n                                                                                        id={item.identifier} \n                                                                                        group={group}\n                                                                                        title={`Optional Choice`} \n                                                                                        placeholder={`...`}\n                                                                                        value={this.state.nonRequiredFields[item.identifier]}\n                                                                                        onChange={e=>this.updateNonRequiredField(e)}\n                                                                                        className=\"item-fields\"\n                                                                                        type=\"text\" />\n                                                                                        <ToolTip description={item.description} />\n                                                                                    </div>                                        \n                                                                                </div>\n                                                                            </Col>\n                                                                        )\n                                                                    })\n                                                                }\n                                                                </Row>\n                                                            </Grid>\n                                                        }\n                                                    </div>\n                                                </div>\n                                            )\n                                        })\n                                    }\n                                </Col>\n                            </Row>\n                            }\n                            {this.state.hasUnderlying && this.state.contractType===\"SWAPS\" &&\n                            <>\n                            <Row>\n                                <Col sm={12} className={`contract-main-wrapper ${formClassName}`} onClick={()=>this.toggleLeg1()}>\n                                    <span className=\"contract-title\">{\"Leg 1\"}:</span>\n                                    <span className=\"contract-description\">{\"This contract constitutes Leg 1 of the Swap\"}</span>\n                                </Col>\n                            </Row>\n                            {this.state.showLeg1 && \n                                <Row>\n                                    <Col sm={5} className=\"required choices\">\n                                        <div className=\"term-group-header\">All fields below are mandatory to fill in:</div>\n                                        <div className=\"field-wrapper\">\n                                            <div className=\"items-group\">\n                                                <Grid fluid>\n                                                    <Row>\n                                                        {leg1MandatoryFields.map((m, groupId) => {\n                                                            if(m.identifier===\"contractType\") {\n                                                                // add dropdown for selecting the contractType\n                                                                return(\n                                                                    <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                        <div className=\"input-container\">\n                                                                            <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                            <div className=\"input-wrapper\">\n                                                                                <select \n                                                                                    id={m.identifier}\n                                                                                    title={`Required Field`} \n                                                                                    value={this.state.leg1RequiredFields.contractType} \n                                                                                    onChange={e=>this.handleChangeLeg1Type(e)} \n                                                                                    className=\"item-fields\" >\n                                                                                    {this.state.underlyingTypes.map(type => (\n                                                                                        <option key={type} value={type}>\n                                                                                            {type}\n                                                                                        </option>\n                                                                                    ))}\n                                                                                </select>\n                                                                            </div>                                        \n                                                                        </div>\n                                                                    </Col> \n                                                                )\n                                                            } else {\n                                                                // for each mandatory term add a field in the form and\n                                                                // preset with value from demo case (if any)\n                                                                return (                                                        \n                                                                    <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                        <div className=\"input-container\">\n                                                                            <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                            <div className=\"input-wrapper\">\n                                                                                <input \n                                                                                id={\"leg1-\" + m.identifier}\n                                                                                title={`Required Field`} \n                                                                                placeholder='...' \n                                                                                value={this.state.leg1RequiredFields[m.identifier]}\n                                                                                onChange={e=>this.updateField(e)}\n                                                                                className=\"item-fields\" \n                                                                                type=\"text\" />\n                                                                                <ToolTip description={m.description} />\n                                                                            </div>                                        \n                                                                        </div>\n                                                                    </Col>                                                                    \n                                                                )\n                                                            }\n                                                        })\n                                                        }\n                                                    </Row>\n                                                </Grid>\n                                            </div>\n                                        </div>\n                                    </Col>\n                                    <Col sm={7} className=\"optional choices\">\n                                        <div className=\"term-group-header\">Below are your Optional choices</div>\n                                        {\n                                            leg1Groups.map((group, index) => {\n                                                // go through all term groups and create separate optional field tab\n                                                return (\n                                                    <div key={`term_wrapper${index}`} className=\"term-wrapper\">\n                                                        <div id={group.shortName} className=\"items-group\">\n                                                            <div className=\"item-header\" onClick={()=>this.foldLeg1Options(index)}>{group.group}</div>\n                                                            {group.visible && \n                                                                <Grid fluid>\n                                                                    <Row>\n                                                                    {\n                                                                        group.Items.map((item, index) => {\n                                                                            // for a specific term group go through all terms and create\n                                                                            // a form field\n                                                                            let group = item.group;\n\n                                                                            return(\n                                                                                <Col key={`key${item.identifier}`} sm={4} className=\"item nopadding\">\n                                                                                    <div className=\"input-container\">\n                                                                                        <label className=\"item-labels\" htmlFor={item.name}>{item.name}</label>\n                                                                                        <div className=\"input-wrapper term\">\n                                                                                            <input \n                                                                                            id={\"leg1-\" + item.identifier} \n                                                                                            group={group}\n                                                                                            title={`Optional Choice`} \n                                                                                            placeholder={`...`}\n                                                                                            value={this.state.leg1NonRequiredFields[item.identifier]}\n                                                                                            onChange={e=>this.updateNonRequiredField(e)}\n                                                                                            className=\"item-fields\"\n                                                                                            type=\"text\" />\n                                                                                            <ToolTip description={item.description} />\n                                                                                        </div>                                        \n                                                                                    </div>\n                                                                                </Col>\n                                                                            )\n                                                                        })\n                                                                    }\n                                                                    </Row>\n                                                                </Grid>\n                                                            }\n                                                        </div>\n                                                    </div>\n                                                )\n                                            })\n                                        }\n                                    </Col>\n                                </Row>\n                            }\n                            <Row>\n                                <Col sm={12} className={`contract-main-wrapper ${formClassName}`} onClick={()=>this.toggleLeg2()}>\n                                    <span className=\"contract-title\">{\"Leg 2\"}:</span>\n                                    <span className=\"contract-description\">{\"This contract constitutes Leg 2 of the Swap\"}</span>\n                                </Col>\n                            </Row>\n                            {this.state.showLeg2 && \n                                <Row>\n                                    <Col sm={5} className=\"required choices\">\n                                        <div className=\"term-group-header\">All fields below are mandatory to fill in:</div>\n                                        <div className=\"field-wrapper\">\n                                            <div className=\"items-group\">\n                                                <Grid fluid>\n                                                    <Row>\n                                                        {leg2MandatoryFields.map((m, groupId) => {\n                                                                if(m.identifier===\"contractType\") {\n                                                                    // add dropdown for selecting the contractType\n                                                                    return(\n                                                                        <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                            <div className=\"input-container\">\n                                                                                <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                                <div className=\"input-wrapper\">\n                                                                                    <select \n                                                                                        id={\"leg2-\" + m.identifier}\n                                                                                        title={`Required Field`} \n                                                                                        value={this.state.leg2RequiredFields.contractType} \n                                                                                        onChange={this.handleChangeLeg2Type} \n                                                                                        className=\"item-fields\" >\n                                                                                        {this.state.underlyingTypes.map(type => (\n                                                                                            <option key={type} value={type}>\n                                                                                                {type}\n                                                                                            </option>\n                                                                                        ))}\n                                                                                    </select>\n                                                                                </div>                                        \n                                                                            </div>\n                                                                        </Col> \n                                                                    )\n                                                                } else {\n                                                                    // for each mandatory term add a field in the form and\n                                                                    // preset with value from demo case (if any)\n                                                                    return (                                                        \n                                                                        <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                            <div className=\"input-container\">\n                                                                                <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                                <div className=\"input-wrapper\">\n                                                                                    <input \n                                                                                    id={\"leg2-\" + m.identifier}\n                                                                                    title={`Required Field`} \n                                                                                    placeholder='...' \n                                                                                    value={this.state.leg2RequiredFields[m.identifier]}\n                                                                                    onChange={e=>this.updateField(e)}\n                                                                                    className=\"item-fields\" \n                                                                                    type=\"text\" />\n                                                                                    <ToolTip description={m.description} />\n                                                                                </div>                                        \n                                                                            </div>\n                                                                        </Col>                                                                    \n                                                                    )\n                                                                }\n                                                            })\n                                                        }\n                                                    </Row>\n                                                </Grid>\n                                            </div>\n                                        </div>\n                                    </Col>\n                                    <Col sm={7} className=\"optional choices\">\n                                        <div className=\"term-group-header\">Below are your Optional choices</div>\n                                        {\n                                            leg2Groups.map((group, index) => {\n                                                // go through all term groups and create separate optional field tab\n                                                return (\n                                                    <div key={`term_wrapper${index}`} className=\"term-wrapper\">\n                                                        <div id={group.shortName} className=\"items-group\">\n                                                            <div className=\"item-header\" onClick={()=>this.foldLeg2Options(index)}>{group.group}</div>\n                                                            {group.visible && \n                                                                <Grid fluid>\n                                                                    <Row>\n                                                                    {\n                                                                        group.Items.map((item, index) => {\n                                                                            // for a specific term group go through all terms and create\n                                                                            // a form field\n                                                                            let group = item.group;\n\n                                                                            return(\n                                                                                <Col key={`key${item.identifier}`} sm={4} className=\"item nopadding\">\n                                                                                    <div className=\"input-container\">\n                                                                                        <label className=\"item-labels\" htmlFor={item.name}>{item.name}</label>\n                                                                                        <div className=\"input-wrapper term\">\n                                                                                            <input \n                                                                                            id={\"leg2-\" + item.identifier} \n                                                                                            group={group}\n                                                                                            title={`Optional Choice`} \n                                                                                            placeholder={`...`}\n                                                                                            value={this.state.leg2NonRequiredFields[item.identifier]}\n                                                                                            onChange={e=>this.updateNonRequiredField(e)}\n                                                                                            className=\"item-fields\"\n                                                                                            type=\"text\" />\n                                                                                            <ToolTip description={item.description} />\n                                                                                        </div>                                        \n                                                                                    </div>\n                                                                                </Col>\n                                                                            )\n                                                                        })\n                                                                    }\n                                                                    </Row>\n                                                                </Grid>\n                                                            }\n                                                        </div>\n                                                    </div>\n                                                )\n                                            })\n                                        }\n                                    </Col>\n                                </Row>\n                            }\n                            </>\n                            }\n                            {this.state.hasUnderlying && this.state.contractType!==\"SWAPS\" &&\n                            <>\n                            <Row>\n                                <Col sm={12} className={`contract-main-wrapper ${formClassName}`} onClick={()=>this.toggleUnderlying()}>\n                                    <span className=\"contract-title\">{\"Underlying\"}:</span>\n                                    <span className=\"contract-description\">{\"This contract constitutes the underlying\"}</span>\n                                </Col>\n                            </Row>\n                            {this.state.showUnderlying && \n                                <Row>\n                                    <Col sm={5} className=\"required choices\">\n                                        <div className=\"term-group-header\">All fields below are mandatory to fill in:</div>\n                                        <div className=\"field-wrapper\">\n                                            <div className=\"items-group\">\n                                                <Grid fluid>\n                                                    <Row>\n                                                        {underlyingMandatoryFields.map((m, groupId) => {\n                                                            if(m.identifier===\"contractType\") {\n                                                                // add dropdown for selecting the contractType\n                                                                return(\n                                                                    <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                        <div className=\"input-container\">\n                                                                            <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                            <div className=\"input-wrapper\">\n                                                                                <select \n                                                                                    id={\"underlying-\" + m.identifier}\n                                                                                    title={`Required Field`} \n                                                                                    value={this.state.underlyingType} \n                                                                                    onChange={this.handleChangeUnderlyingType} \n                                                                                    className=\"item-fields\" >\n                                                                                    {this.state.underlyingTypes.map(type => (\n                                                                                        <option key={type} value={type}>\n                                                                                            {type}\n                                                                                        </option>\n                                                                                    ))}\n                                                                                </select>\n                                                                            </div>                                        \n                                                                        </div>\n                                                                    </Col> \n                                                                )\n                                                            } else {\n                                                                // for each mandatory term add a field in the form and\n                                                                // preset with value from demo case (if any)\n                                                                return (                                                        \n                                                                    <Col key={`term_wrapper${groupId}`} sm={6} className=\"item nopadding\">\n                                                                        <div className=\"input-container\">\n                                                                            <label className=\"item-labels\" htmlFor={m.name}>{m.name}</label>\n                                                                            <div className=\"input-wrapper\">\n                                                                                <input \n                                                                                id={\"underlying-\" + m.identifier}\n                                                                                title={`Required Field`} \n                                                                                placeholder='...' \n                                                                                value={this.state.underlyingRequiredFields[m.identifier]}\n                                                                                onChange={e=>this.updateField(e)}\n                                                                                className=\"item-fields\" \n                                                                                type=\"text\" />\n                                                                                <ToolTip description={m.description} />\n                                                                            </div>                                        \n                                                                        </div>\n                                                                    </Col>                                                                    \n                                                                )\n                                                            }\n                                                        })\n                                                        }\n                                                    </Row>\n                                                </Grid>\n                                            </div>\n                                        </div>\n                                    </Col>\n                                    <Col sm={7} className=\"optional choices\">\n                                        <div className=\"term-group-header\">Below are your Optional choices</div>\n                                        {\n                                            underlyingGroups.map((group, index) => {\n                                                // go through all term groups and create separate optional field tab\n                                                return (\n                                                    <div key={`term_wrapper${index}`} className=\"term-wrapper\">\n                                                        <div id={\"underlying-\" + group.shortName} className=\"items-group\">\n                                                            <div className=\"item-header\" onClick={()=>this.foldUnderlyingOptions(index)}>{group.group}</div>\n                                                            {group.visible && \n                                                                <Grid fluid>\n                                                                    <Row>\n                                                                    {\n                                                                        group.Items.map((item, index) => {\n                                                                            // for a specific term group go through all terms and create\n                                                                            // a form field\n                                                                            let group = item.group;\n\n                                                                            return(\n                                                                                <Col key={`key${item.identifier}`} sm={4} className=\"item nopadding\">\n                                                                                    <div className=\"input-container\">\n                                                                                        <label className=\"item-labels\" htmlFor={item.name}>{item.name}</label>\n                                                                                        <div className=\"input-wrapper term\">\n                                                                                            <input \n                                                                                            id={\"underlying-\" + item.identifier} \n                                                                                            group={group}\n                                                                                            title={`Optional Choice`} \n                                                                                            placeholder={`...`}\n                                                                                            value={this.state.underlyingNonRequiredFields[item.identifier]}\n                                                                                            onChange={e=>this.updateNonRequiredField(e)}\n                                                                                            className=\"item-fields\"\n                                                                                            type=\"text\" />\n                                                                                            <ToolTip description={item.description} />\n                                                                                        </div>                                        \n                                                                                    </div>\n                                                                                </Col>\n                                                                            )\n                                                                        })\n                                                                    }\n                                                                    </Row>\n                                                                </Grid>\n                                                            }\n                                                        </div>\n                                                    </div>\n                                                )\n                                            })\n                                        }\n                                    </Col>\n                                </Row>\n                            }\n                            </>\n                            }\n                            <Row>\n                                <Col sm={5} className=\"text-right\">\n                                </Col>\n                                <Col sm={7} className={(this.state.validated)?`text-left`:`text-left`}>\n                                    <input type=\"reset\" value=\"RESET\" className=\"mr-2\" onClick={(e) => this.handleReset(e)}/>\n                                    <input type=\"submit\" value=\"SEND\" className=\"mr-2\" onClick={(e) => this.handleSubmit(e)}/>\n                                    <input type=\"submit\" value=\"EXPORT TERMS\" onClick={(e) => this.handleExport(e)}/>\n                                </Col>\n                            </Row>\n                        </Grid>\n                    </div>\n                );\n            }\n        }\n    }\n}\n","function getMarginObjectForNumber(number: number) {\n  return {\n    top: number,\n    right: number,\n    bottom: number,\n    left: number,\n  };\n}\n\nexport default function getMarginObject(\n  margin: Object | number | null,\n): Object {\n  if (!margin) {\n    return getMarginObjectForNumber(0);\n  }\n\n  if (typeof margin === 'number') {\n    return getMarginObjectForNumber(margin);\n  }\n\n  const {\n    top,\n    right,\n    bottom,\n    left,\n\n    vertical,\n    horizontal,\n  } = margin;\n\n  return {\n    top: top || vertical || 0,\n    right: right || horizontal || 0,\n    bottom: bottom || vertical || 0,\n    left: left || horizontal || 0,\n  };\n}\n","\nimport getMarginObject from './getMarginObject';\n\ntype Params = {\n  margin: Object | number,\n};\n\nexport default function getContentContainerStyle({\n  margin,\n}: Params) {\n  const marginObject = getMarginObject(margin);\n\n  return {\n    transform: `translate(${marginObject.left}px, ${marginObject.top}px)`,\n  };\n};\n","import React from 'react';\nimport getContentContainerStyle from './getContentContainerStyle';\nimport getSVGDimensions from './getSVGDimensions';\n\ntype Props = {\n  children: React$Element | React$Element[],\n  contentContainerBackgroundRectClassName: ?string,\n  contentContainerGroupClassName: ?string,\n  height: number,\n  margin: Object | number,\n  width: number,\n};\n\nexport default ({\n  children,\n  contentContainerBackgroundRectClassName,\n  contentContainerGroupClassName,\n  height,\n  margin,\n  renderContentContainerBackground,\n  width,\n  ...rest\n}: Props) => (\n  <svg\n    {...rest}\n    {...getSVGDimensions({\n      height,\n      margin,\n      width,\n    })}\n  >\n    <g\n      className={contentContainerGroupClassName}\n      style={getContentContainerStyle({ margin })}\n    >\n      {!!contentContainerBackgroundRectClassName && (\n        <rect\n          className={contentContainerBackgroundRectClassName}\n          height={height}\n          width={width}\n          x={0}\n          y={0}\n        />\n      )}\n      {children}\n    </g>\n  </svg>\n);\n","import getMarginObject from './getMarginObject';\n\ntype Params = {\n  height: number,\n  margin: Object | number,\n  width: number,\n};\n\nexport default function getSVGDimensions({\n  height,\n  margin,\n  width,\n}: Params) {\n  const marginObject = getMarginObject(margin);\n  const heightWithMargin = height\n    + marginObject.top\n    + marginObject.bottom;\n  const widthWithMargin = width\n    + marginObject.left\n    + marginObject.right;\n\n  return {\n    height: heightWithMargin,\n    width: widthWithMargin,\n  };\n};\n","import * as React from \"react\";\nimport ReactDOM from 'react-dom';\nimport * as d3 from \"d3\";\nimport { select as d3Select } from 'd3-selection';\nimport SVGWithMargin from '../SVGWithMargin';\n\nexport class Graph extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdata:[props.results],\n\t\t\twidth:'100%',\n\t\t\theight:600,\n\t\t\tmargin: {left: 45, right: 25, top: 25, bottom: 25},\n\t\t\taspect: 600/900,\n\t\t\theader:'HEADER',\n\t\t\tparentWidth: 0,\n\t\t}\t\t\n\t\tthis.GraphRef = React.createRef();\n\t}\n\n\thandleResize(e) {\t\n\t\tlet elem = ReactDOM.findDOMNode(this);\n\t\tlet width = elem.offsetWidth;\n\t\t\n        this.setState({\n            parentWidth: width\n        });\n\t}\n\t\n\tcomponentDidMount(){\n\t\twindow.addEventListener('resize', this.handleResize.bind(this));\n\t\tthis.handleResize();\n\t}\n\n\tcomponentWillUnmount(){\n\t\twindow.removeEventListener('resize', this.handleResize.bind(this));\n\t}\n\n\tcomponentWillReceiveProps(props){\n\t\tthis.setState({\n\t\t\tdata: props.results\n\t\t})\n\t}\n\n\trender() {\n\n\t\t// extract states\n\t\tlet { data, width, height, margin } = this.state;\n\n\t\twidth = this.state.parentWidth || 900;\n\n\t\t// convert strings to dates\n\t\tdata.forEach(function(d){\n\t\t\td.time = new Date(d.time)\n\t\t});\n\n\t\t// create axes scales\n\t\tlet xScale = d3\n\t\t.scaleTime()\n\t\t.domain(d3.extent(data, d=>d.time))\n\t\t.range([0, width - margin.left - margin.right]);\n\n\t\t// scientific notation if values are too big to display\n\t\tlet yMax = d3.max(data, d => Math.abs(d.nominalValue));\n\t\tlet yFormat = yMax > 9999 ? d3.format(\".1e\") : null;\n\n\t\tlet yScale = d3\n\t\t.scaleLinear()\n\t\t.domain([0, yMax])\n\t\t.range([height - margin.top - margin.bottom, 0])\n\t\t.nice();\n\n\t\t// create axis objects\n\t\tvar xAxis = d3.axisBottom(xScale).tickFormat(d3.timeFormat(\"%Y/%m/%d\"));\n\t\tvar yAxis = d3.axisLeft(yScale).tickFormat(yFormat);\n\n\t\t// create grid\n\t\t// extract tick values\t\n\t\tvar ticks = yAxis.scale().ticks();\n\n\t\t// define grid line type\t\n\t\tvar gridLine = d3\n\t\t.line()\n\t\t.x(d => xScale(d.time))\n\t\t.y(d => yScale(d.value))\n\t\t.curve(d3.curveLinear);\n\n\t\t// create grid lines\n\t\tconst gridLines = ticks.map(function(d) {\n\t\t\tlet raw=[{time:xScale.domain()[0],value:d},{time:xScale.domain()[1],value:d}];\n\t\t\treturn (\n\t\t\t\t<path\n\t\t\t\t\tkey={'gridline' + d}\n\t\t\t\t\td={gridLine(raw)}\n\t\t\t\t\tclassName='line'\n\t\t\t\t\tstyle={{fill:'none',strokeWidth: 0.5, stroke: \"grey\", \n\t\t\t\t\tstrokeDasharray: \"3,3\"}}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\t// create the nominal value state line\n\t\tvar nominalLine = d3\n\t\t.line()\n\t\t.x(d => xScale(d.time))\n\t\t.y(d => yScale(Math.abs(d.nominalValue)))\n\t\t.curve(d3.curveStepAfter);\n\n\t\t// create event arrows\n\t\t// define event color mapping\n\t\tvar col = function(type) {\n\t\t\tswitch(type) {\n\t\t\t\tcase \"AD\":\n\t\t\t\t\treturn(\"white\");\n\t\t\t\tcase \"IED\":\n\t\t\t\t\treturn(\"red\");\n\t\t\t\tcase \"PR\":\n\t\t\t\t\treturn(\"red\");\n\t\t\t\tcase \"MD\":\n\t\t\t\t\treturn(\"red\");\n\t\t\t\tcase \"IP\":\n\t\t\t\t\treturn(\"green\");\n\t\t\t\tcase \"IPCI\":\n\t\t\t\t\treturn(\"white\");\n\t\t\t\tcase \"RR\":\n\t\t\t\t\treturn(\"white\");\n\t\t\t\tdefault:\n\t\t\t\t\treturn(\"black\");\n\t\t\t}\n\t\t};\n\n\t\t// define event size mapping\n\t\tvar size = function(type) {\n\t\t\tswitch(type) {\n\t\t\t\tcase \"AD\":\n\t\t\t\t\treturn(0);\n\t\t\t\tcase \"IED\":\n\t\t\t\t\treturn(2);\n\t\t\t\tcase \"PR\":\n\t\t\t\t\treturn(2);\n\t\t\t\tcase \"MD\":\n\t\t\t\t\treturn(2);\n\t\t\t\tcase \"IP\":\n\t\t\t\t\treturn(5);\n\t\t\t\tcase \"IPCI\":\n\t\t\t\t\treturn(0);\n\t\t\t\tcase \"RR\":\n\t\t\t\t\treturn(0);\n\t\t\t\tdefault:\n\t\t\t\t\treturn(\"black\");\n\t\t\t}\n\t\t};\n\n\t\t// define event line type\n\t\tvar eventLine = d3\n\t\t.line()\n\t\t.x(d => xScale(d.time))\n\t\t.y(d => yScale(d.payoff))\n\t\t.curve(d3.curveLinear);\n\n\t\t// create event lines\n\t\tlet lastPayoff = 0;\n\t\t\n\t\tconst eventLines = data.map(function(d, index) {\n\t\t\tlet raw;\n\t\t\tif(d.type === \"PR\"){\n\t\t\t\traw = [{time:d.time, payoff:Math.abs(d.payoff)+lastPayoff}, {time:d.time, payoff:lastPayoff}];\n\t\t\t}else{\n\t\t\t\traw = [{time:d.time, payoff:Math.abs(d.payoff)}, {time:d.time, payoff:0}];\n\t\t\t\tlastPayoff = Math.abs(d.payoff);\n\t\t\t}\n\n\t\t\treturn(\n\t\t\t\t<path\n\t\t\t\t\tkey={'EventLines' + index}\n\t\t\t\t\td={eventLine(raw)}\n\t\t\t\t\tclassName='line'\n\t\t\t\t\tstyle={{fill:'none',strokeWidth: 2, stroke: col(d.type)}}\n\t\t\t\t\tmarkerEnd={ col(d.type) === \"green\" ? 'url(#arrow2)' : 'url(#arrow)' }\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t\t\n\t\t// create accrued state lines\n\t\tlet lastTime = data[0].time;\n\t\tlet lastAccrued = 0;\n\t\tconst accruedLines = data.map(function(d, index){\n\t\t\tlet raw;\n\t\t\t\n\t\t\tif(col(d.type) === 'green'){\n\t\t\t\traw = [{time:d.time, payoff:Math.abs(d.payoff)}, {time:lastTime, payoff:lastAccrued}];\n\t\t\t}else{\n\t\t\t\traw = [{time:d.time, payoff:Math.abs(d.nominalAccrued)}, {time:lastTime, payoff:lastAccrued}];\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tlastTime = d.time;\n\t\t\tlastAccrued = Math.abs(d.nominalAccrued);\n\n\t\t\treturn (\n\t\t\t\t<path\n\t\t\t\t\tkey={'AccruedLines' + index}\n\t\t\t\t\td={eventLine(raw)}\n\t\t\t\t\tclassName='line'\n\t\t\t\t\tstyle={{fill:'none',strokeWidth: 2, stroke: \"green\", strokeDasharray: \"3,3\"}}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\n\t\t// create event labels\n\t\tconst eventLabels = data.map(function(d, index) {\n\t\t\tif(d.type === 'IPCI'){\n\t\t\t\treturn(\n\t\t\t\t\t<text key={'label' + index} \n\t\t\t\t\tx={xScale(d.time)} y={yScale(Math.abs(d.nominalValue))} \n\t\t\t\t\tfontSize=\"18px\">\n\t\t\t\t\t{d.type} </text>)\n\t\t\t}else{\n\t\t\t\treturn(\n\t\t\t\t\t<text key={'label' + index} \n\t\t\t\t\tx={xScale(d.time)} y={yScale(Math.abs(d.payoff))} \n\t\t\t\t\tfontSize=\"18px\">\n\t\t\t\t\t{d.type} </text>)\n\t\t\t}\n\t\t});\n\n\n\t\treturn (\n\t\t\t<div ref={this.GraphRef}>\n\t\t\t\t<SVGWithMargin key=\"SVGWithMarginTest\" className=\"container\" height={height} margin={margin} width={width}>\n\t\t\t\t\t<g id={\"group\"} />\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<marker viewBox=\"0 0 10 10\" id=\"arrow\" markerWidth=\"5\" markerHeight=\"5\" refX=\"5\" refY=\"5\" orient=\"0deg\" markerUnits=\"strokeWidth\">\n\t\t\t\t\t\t\t<path d=\"M0,0 L5,5 L10,0\" style={{fill:'none', strokeWidth:2, stroke:'red'}}  />\n\t\t\t\t\t\t</marker>\n\t\t\t\t\t\t<marker viewBox=\"0 0 10 10\" id=\"arrow2\" markerWidth=\"5\" markerHeight=\"5\" refX=\"5\" refY=\"5\" orient=\"0deg\" markerUnits=\"strokeWidth\">\n\t\t\t\t\t\t\t<path d=\"M0,0 L5,5 L10,0\" style={{fill:'none', strokeWidth:2, stroke:'green'}}  />\n\t\t\t\t\t\t</marker>\n\t\t\t\t\t</defs>\n\t\t\t\t\t{/* draw axes*/}\n\t\t\t\t\t<g className=\"xAxis\" ref={node => d3Select(node).call(xAxis)} style={{ transform: `translate(0, ${height - margin.top - margin.bottom}px)`, }} />\n\t\t\t\t\t<g className=\"yAxis\" ref={node => d3Select(node).call(yAxis)} />\n\t\t\t\t\t\n\t\t\t\t\t{/* draw grid lines */}\n\t\t\t\t\t<g>\n\t\t\t\t\t\t{gridLines}\n\t\t\t\t\t</g>\n\n\t\t\t\t\t{/* draw nominal value line */}\n\t\t\t\t\t<path key=\"pathNominal\" id={\"line\"} d={nominalLine(data)} stroke=\"red\" strokeWidth=\"2\" strokeDasharray=\"3,3\" fill=\"none\"/>\n\t\t\t\t\t\n\t\t\t\t\t<g>\n\t\t\t\t\t\t{ eventLines}\n\t\t\t\t\t</g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t{ accruedLines}\n\t\t\t\t\t</g>\n\t\t\t\t\t<g>\n\t\t\t\t\t\t{ eventLabels }\n\t\t\t\t\t</g> \n\t\t\t\t</SVGWithMargin>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import React, {PureComponent} from 'react';\nimport {Col, Grid, Row} from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom'\nimport './Results.css';\nimport { Graph } from '../Graph';\n\nexport class Results extends PureComponent {\n    \n    state = {\n        results: [],\n        currentTab: 'Table',  \n        contractId: '',\n        redirect: false,\n        url: '',\n    }\n\n    componentDidMount() { \n        let response = [...this.props.location.state.data];\n        this.setState({\n            results: response,\n            contractId: this.props.location.state.contractId,\n            url: this.props.location.state.url,\n            allAnswers: this.props.location.state.allAnswers,\n            formTerms: this.props.location.state.formTerms\n        });      \n    }\n\n    handleBackToForm(e) {\n        this.setState({\n            redirect: true\n        })\n    }\n\n    render() {        \n        let { results, currentTab, contractId, redirect, url} = this.state;\n\n        if(redirect)\n            return <Redirect to={{ pathname: url, state: { backFromResults: true, allAnswers: this.state.allAnswers, formTerms: this.state.formTerms }}} />\n\n        return (\n            <div id=\"results-container\" identifier=\"\" version=\"\">\n                <Grid fluid>\n                    <Row>\n                        <Col sm={12} className=\"results-main-wrapper\">\n                            <span className=\"results-title\">RESULT: &nbsp;<span className=\"contract-id\">Contract ID - {contractId}</span></span>\n                            <span className=\"results-description\"> </span>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col id=\"resultsGraph\" sm={12} className=\"results-graph-wrapper\">\n                            <Graph results={results} />\n                            <div className=\"back-to-form\">\n                                <input type=\"button\" value=\"Back to Form\" onClick={()=>this.handleBackToForm()} />\n                            </div>\n                        </Col>\n                    </Row>\n                    {currentTab === 'Table' && \n                    <Row>\n                        <Col sm={12}>\n                            <Grid fluid className=\"results-table-wrapper\">\n                                <Row className=\"table-header-container\">\n                                    <Col sm={1} className=\"table-header\">Event Date</Col>\n                                    <Col sm={1} className=\"table-header\">Event Type</Col>\n                                    <Col sm={2} className=\"table-header\">Event Value</Col>\n                                    <Col sm={2} className=\"table-header\">Event Currency</Col>\n                                    <Col sm={2} className=\"table-header\">Nominal Value</Col>\n                                    <Col sm={2} className=\"table-header\">Nominal Rate</Col>\n                                    <Col sm={2} className=\"table-header\">Nominal Accrued</Col>\n                                </Row>\n                            {\n                                results.map((result, index) => {                                    \n                                    let d = new Date(result.time.toString());\n                                    //console.log(d.getDate(), (d.getDate()).toString().length);\n                                    let month = (d.getMonth()+1).toString().length < 2? \"0\"+(d.getMonth()+1):d.getMonth()+1;\n                                    let day = (d.getDate()).toString().length < 2? \"0\"+(d.getDate()):d.getDate();\n                                    let dateString = d.getFullYear()+\"-\"+month+\"-\"+day;\n                                    return (\n                                        <Row key={index}>\n                                            <Col className=\"cell-content\" sm={1}>{dateString}</Col>\n                                            <Col className=\"cell-content\" sm={1}>{result.type}</Col>\n                                            <Col className=\"cell-content\" sm={2}>{result.payoff}</Col>\n                                            <Col className=\"cell-content\" sm={2}>{result.currency}</Col>\n                                            <Col className=\"cell-content\" sm={2}>{result.nominalValue}</Col>\n                                            <Col className=\"cell-content\" sm={2}>{result.nominalRate}</Col>\n                                            <Col className=\"cell-content\" sm={2}>{result.nominalAccrued}</Col>                                            \n                                        </Row>\n                                    )\n                                })\n                            }\n                            </Grid>\n                        </Col>\n                    </Row>\n                    }\n                </Grid>\n            </div>          \n        )\n    }\n}\n","import React, { PureComponent } from 'react';\nimport { Link } from 'react-router-dom'\nimport { Col } from 'react-bootstrap';\nimport './Contract.css'\n\nexport class Contract extends PureComponent {\n\t\n\tconstructor(props){\n     \t\tsuper(props);\n        \tthis.state={\n        \t\tcontractType:\"\",\n        \t\tname:\"\",\n\t\t\t\tdescription:\"\"\n\t\t\t};\n\t}\n\n\tcomponentDidMount(){\n\t        this.setState({\n\t\t\t\tcontractType: this.props.contractType,\n        \t\tname:this.props.name,\n\t\t\t\tdescription:this.props.description\n\t\t\t});\n\t}\n\n    render(){\n\tlet contract = this.state;\n\tconsole.log(contract)\n\t  return (\n\t\t<Col sm={12} md={6} className=\"contract-wrapper\">\n\t\t\t<div className=\"contract-content\">\n\t\t        \t<Link className=\"contract-link\" to={`/form/${contract.contractType}`}>{contract.contractType}</Link>                \n\t\t\t\t<div className=\"contract-name\">{contract.name}</div>\n\t\t\t\t<div className=\"contract-description\">{contract.description}</div>\n\t\t\t</div>\n\t\t</Col>\n\t\t);\n\t}\n}\n\n","import React, { PureComponent } from 'react';\nimport { Contract } from '../Contract';\nimport { Grid, Row } from 'react-bootstrap';\nimport axios from 'axios';\nimport './Landing.css';\n\nexport class Landing extends PureComponent {\n    state = {\n        contractDetails:[],\n        contractIdentifiers:[]\n    }\n\n    componentDidMount(){\n        axios.get(`/data/actus-dictionary.json`)\n        .then(res => {\n            this.setState({\n                contractDetails: res.data.taxonomy\n            })\n        });\n        axios.get(`/data/covered-contracts.json`)\n        .then(res => {\n            this.setState({\n                contractIdentifiers: res.data.contracts\n            })\n        });\n    }\n\n    render() {\n        let contractDetails = this.state.contractDetails\n        let contractIdentifiers = this.state.contractIdentifiers\n        return (\n\t\t<div>\n\t\t\n\t\t{/* intro text */}\n\t    <div className=\"section-intro\">Choose a Contract Type from the list below in order to define and evaluate specific financial contracts:</div>\n            \n        {/* contract grid */}\n                <Grid className=\"contract-grid\">\n                    <Row>\n                        {\n                            Object.keys(contractDetails).map( (key) => \n                                {\n                                    if(contractIdentifiers.indexOf(key) != -1) {\n                                        return(                \n                                            <Contract key={key} \n                                            contractType={contractDetails[key].acronym} \n                                            name={contractDetails[key].name}\n                                            description={contractDetails[key].description} />\n                                        )}\n                                }\n                            )\n                        }\n                    </Row>\n                </Grid>\n            </div>\n        );\n    }\n}\n","import React, { PureComponent } from 'react';\n\nexport class NotFound extends PureComponent {\n  render() {    \n    return (\n      <div>FORM NOT FOUND</div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Layout } from './components/Layout';\nimport { Form } from './components/Form';\nimport { Results } from './components/Results';\nimport { Landing } from './components/Landing';\nimport { NotFound } from './components/NotFound';\nimport './styles/App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <Layout>\n          <Switch>\n              <Route exact path='/' render={ props => <Landing {...props} />} />\n              <Route exact path='/form/:id' render={ props => <Form {...props} />} />\n              <Route exact path='/results' render={ props => <Results {...props} />} />\n              <Route component={NotFound}/>\n          </Switch>\n      </Layout>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\n\nimport './index.css';\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>, \n  rootElement);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAPAA8DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD0n43/ALe17+1X+2VremeJ7b4i+KPDUepSaL4R8D+EfEUmhpfyrdeTHJcvGPMd2XfKG3oA4RT8mQPdf2Tv2m7r9lr/AIKF6x8J9H8W+KPGnwovpprK3i1y/bVLjQb2G1knkt4LkncyRSRywH7wIRclnRnbhvjd/wAEsPHX7Kn7cFx8S/CGlap4u8CalrN1rMMeh+JU8O6zpj3aTrJapcM4aMI0xxJFnfEWiITcWr37/gnd/wAE7dS8MeJtM8beNNLg037BFI9lYvcR3U0zyxtGXd4yVGFducksWzgV+95tieHFlbnQmnSdFKMbq/tX/d3jKPLrKyvzO7a0Py2l/a/16NJRftOdty6cnm9mnd2V9LbXP//Z\""],"sourceRoot":""}